---
logfile: '/home/caddy/logs/ftw.log'
testoverride:
  input:
    dest_addr: caddy
    port: 8080
  ignore:
    # Imported from https://github.com/corazawaf/coraza/blob/v3/dev/testing/coreruleset/.ftw.yml
    920100-4: 'Invalid uri, Coraza not reached - 404 page not found'
    920100-5: 'Invalid uri, Coraza not reached - 404 page not found'
    920100-8: 'Go/http allows a colon in the path. Test expects status 400 or 403 (Apache behaviour)'
    920170-3: 'HEAD request with data. Go/http does not allow it - 400 Bad Request'
    920270-4: 'Rule works, log contains 920270. Test expects status 400 (Apache behaviour)'
    920272-5: 'Rule works, log contains 920272. Test expects status 400 (Apache behaviour)'
    920290-1: 'Rule works, log contains 920290. Test expects status 400 (Apache behaviour)'
    920420-8: 'HEAD request with data. Go/http does not allow it - 400 Bad Request'
    920430-5: 'Test has expect_error, Go/http and Envoy return 400'
    920430-8: 'Go/http does no allow HTTP/3.0 - 505 HTTP Version Not Supported'

    # TODO wip tests:
    920171-2: 'Go/http removes the Transfer-Encoding header after parsing it. Fix: https://github.com/corazawaf/coraza-caddy/pull/55'
    920171-3: 'Go/http removes the Transfer-Encoding header after parsing it. Fix: https://github.com/corazawaf/coraza-caddy/pull/55'   

    # TODO investigate failing tests:
    932161-1: ''
    932161-2: ''
    932161-3: ''
    932161-4: ''
    932161-5: ''
    932161-6: ''
    932161-7: ''
    932161-8: ''
    932161-9: ''
    932161-10: ''
    932161-11: ''
    932161-12: ''
    932237-1: ''
    932237-2: ''
    932237-3: ''
    932237-6: ''
    932237-7: ''
    932237-8: ''
    942480-1: ''
    942480-2: ''
    951110-1: ''
    951120-1: ''
    951130-1: ''
    951140-1: ''
    951150-1: ''
    951160-1: ''
    951170-1: ''
    951180-1: ''
    951190-1: ''
    951200-1: ''
    951210-1: ''
    951220-1: ''
    951230-1: ''
    951240-1: ''
    951250-1: ''
    951260-1: ''
    953120-1: ''
    953120-3: ''
    953120-5: ''
    953120-7: ''
    954120-1: ''
    954120-2: ''
    959100-1: ''
    959100-3: ''
    980170-1: ''
    980170-3: ''
